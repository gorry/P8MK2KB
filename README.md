
# ◇P8MK2KB
 Analysis results of the keyboard for the PC-8001mk2
PC-8001mkⅡのキーボードの解析結果

## これはなに？
本資料は、1983年にNECから発売されたパーソナルコンピューター「PC-8001mkⅡ」のキーボードの解析結果です。この世代の機種の多くはパソコン雑誌などで回路図が公開されていますが、本機は公開されていないと思われるため、当方が実機の回路を眺めながら書き起こしたものです。

本機のキーボードは古くからある「キーボードマトリクスがパラレルでCPUのI/Oバスに繋がっている」タイプのものです。この方式はスイッチ以外の回路が不要なのが普通ですが、本機ではキーボード側にいくつかのICが搭載されています。本資料は、この機能について解析を行ったものです。

## 資料の内容
本資料には、kicadによる回路図データと、それにより出力された回路図の画像が含まれています。

本資料は、内容の詳細な確認が行われていません。内容には間違いが含まれているものとお考えください。また、本資料の内容について当方以外に問い合わせを行うことはご遠慮ください。

## 回路図からの動作推測

### A8ラインについて
- [TAB]がONになると、U2A（74LS03）の出力が~A8になる。
- これは「A8=0（センス状態）になると[CTRL]が入力状態になる」ことを意味し、[TAB]は[CTRL]と等価になる。
- [TAB]がOFFになると、この状態は解除される。

### A3ラインについて
- [TAB]がONになると、U1B（74LS74）のフリップフロップがリセットされ、Q=0になる。
- Q=1のとき、A3=0（センス状態）になると[I]が入力状態になる。
- [I]の入力状態は、U2C（74LS03）の出力が0→1になるまで継続される。
- Q=1になるには、「A3=0かつA10=0」でない状態からその状態になること。
- A10=0なら「A3=1→0（A3をセンス状態にする）」の１回目でQ=1となるため[I]が入力状態になり、もう一度A3をセンス状態にするとQ=0になって[I]の入力状態が解除される。
- A10=1ならQは変化せず、[I]は入力されない。
- [TAB]がOFFになると、この状態は解除される。

### まとめ
- まとめると、「A10=0だと[TAB]は[CTRL]+[I]に相当する」「A10=1だと[TAB]は[CTRL]に相当する」となる。

## 著作権表記

Copyright 2004 Hiroaki GOTO as GORRY

本資料の内容は自由に利用を行うことができます。また自由に内容を改変し、再配布を行うことができます。

本資料の内容について当方は責任を負いません。

## 連絡先

https://github.com/gorry/P8MK2KB

## [EOF]





